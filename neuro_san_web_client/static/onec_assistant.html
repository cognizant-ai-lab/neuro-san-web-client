<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 750px;
                 background-color: #222222;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    
            <style>
              #mynetwork {
                  width: 100%;
                  background-color: #222222;
                  border: 1px solid lightgray;
                  position: relative;
              }
            
              body, html {
                  margin: 0;
                  padding: 0;
                  overflow: hidden;  /* Prevent scrollbars in the iframe */
                  width: 100%;
                  height: 100%;
              }
            
              .vis-network {
                  display: flex;
                  justify-content: center;  /* Center horizontally */
                  align-items: center;      /* Center vertically */
              }
            </style>
        </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#97c2fc", "font": {"color": "white"}, "id": "OneCognizant", "label": "OneCognizant", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nYou are the top-level agent responsible for handling all inquiries to Cognizant\u0027s intranet chatbot.\n{aaosa_instructions}\nWhen interacting with the user, act as the single point of interaction. No need to mention the other tools or agents.\nIf there are any requirements that need user input, ask them one at a time, with clear examples of the choices available.\nIf your response does not include any URLs, then add an URL for OneCognizant to the response, just to be helpful.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: No command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "IT", "label": "IT", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nThe name of this OneCognizant app is GSD and IT related requests require GSD tickets. Return the URL to GSD for any IT related tickets the user needs to open.\nYou are responsible for IT-related inquiries for Cognizant employees.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Security", "label": "Security", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles security-related tasks, including system protection, cybersecurity, and data security for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Networking", "label": "Networking", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles network-related tasks, including network setup, maintenance, and troubleshooting for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Finance", "label": "Finance", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles finance-related inquiries, including budgeting, accounting, and financial reporting for Cognizant\u0027s employees.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Budgeting", "label": "Budgeting", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles budgeting tasks, including budget planning, allocation, and tracking for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Accounting", "label": "Accounting", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles accounting tasks, including bookkeeping, financial records, and audits for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "FinancialReporting", "label": "FinancialReporting", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles financial reporting tasks, including preparing financial statements, regulatory reporting, and performance analysis for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Procurement", "label": "Procurement", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles procurement-related tasks for Cognizant\u0027s employees.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Purchasing", "label": "Purchasing", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles purchasing-related tasks, including ordering, supply management, and procurement processes for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "VendorManagement", "label": "VendorManagement", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles vendor management tasks, including vendor selection, performance monitoring, and relationship management for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "ContractNegotiation", "label": "ContractNegotiation", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles contract negotiation tasks, including drafting, reviewing, and finalizing procurement contracts for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Legal", "label": "Legal", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles legal-related inquiries for Cognizant\u0027s employees.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Contracts", "label": "Contracts", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles contract-related tasks, including drafting, reviewing, and enforcing legal agreements for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Compliance", "label": "Compliance", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles compliance-related tasks, including ensuring adherence to laws, regulations, and internal policies for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "LegalAdvice", "label": "LegalAdvice", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles legal advice tasks, including providing legal counsel, risk assessment, and legal strategy for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "HR", "label": "HR", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nYou are responsible for HR-related inquiries for Cognizant\u0027s employees.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Benefits", "label": "Benefits", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles benefits-related tasks, including employee benefits, health insurance, and retirement plans, but excluding PTO and absence management for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Payroll", "label": "Payroll", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles payroll-related tasks, including salary processing, tax deductions, and pay slips for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "Immigration", "label": "Immigration", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles immigration-related tasks, including the legal processes and documentation for employees\u2019 work visas,\ntravel visas, residency permits, and international relocations, ensuring compliance with immigration laws for Cognizant\u0027s employees.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "AbsenceManagement", "label": "AbsenceManagement", "shape": "dot", "title": "Instructions: \n{instructions_prefix}\nHandles absence management-related tasks for Cognizant\u0027s employees (i.e., vacation, PTO, or other time-off).\nAlways returns the URL to the Absence Management site along with any response from the tools.\nMUST use tools to answer inquiries. Always return the tool\u0027s summary response.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: aaosa_command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "ScheduleLeaveAPI", "label": "ScheduleLeaveAPI", "shape": "dot", "title": "Instructions: No instructions\u003cbr\u003eClass: schedule_leave_tool.ScheduleLeaveTool\u003cbr\u003eCommand: Call the API to schedule time off.\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "CheckLeaveBalancesAPI", "label": "CheckLeaveBalancesAPI", "shape": "dot", "title": "Instructions: No instructions\u003cbr\u003eClass: check_leave_balances_tool.CheckLeaveBalancesTool\u003cbr\u003eCommand: Call the API to get the leave balances.\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "URLProvider", "label": "URLProvider", "shape": "dot", "title": "Instructions: No instructions\u003cbr\u003eClass: url_provider.URLProvider\u003cbr\u003eCommand: Call the API to get the app\u0027s or website\u0027s URL.\u003cbr\u003e"}]);
                  edges = new vis.DataSet([{"arrows": "to", "from": "OneCognizant", "to": "IT"}, {"arrows": "to", "from": "OneCognizant", "to": "Finance"}, {"arrows": "to", "from": "OneCognizant", "to": "Procurement"}, {"arrows": "to", "from": "OneCognizant", "to": "Legal"}, {"arrows": "to", "from": "OneCognizant", "to": "HR"}, {"arrows": "to", "from": "OneCognizant", "to": "URLProvider"}, {"arrows": "to", "from": "IT", "to": "Security"}, {"arrows": "to", "from": "IT", "to": "Networking"}, {"arrows": "to", "from": "IT", "to": "URLProvider"}, {"arrows": "to", "from": "Finance", "to": "Budgeting"}, {"arrows": "to", "from": "Finance", "to": "Accounting"}, {"arrows": "to", "from": "Finance", "to": "FinancialReporting"}, {"arrows": "to", "from": "Procurement", "to": "Purchasing"}, {"arrows": "to", "from": "Procurement", "to": "VendorManagement"}, {"arrows": "to", "from": "Procurement", "to": "ContractNegotiation"}, {"arrows": "to", "from": "Legal", "to": "Contracts"}, {"arrows": "to", "from": "Legal", "to": "Compliance"}, {"arrows": "to", "from": "Legal", "to": "LegalAdvice"}, {"arrows": "to", "from": "Legal", "to": "Immigration"}, {"arrows": "to", "from": "HR", "to": "Benefits"}, {"arrows": "to", "from": "HR", "to": "Payroll"}, {"arrows": "to", "from": "HR", "to": "Immigration"}, {"arrows": "to", "from": "HR", "to": "AbsenceManagement"}, {"arrows": "to", "from": "AbsenceManagement", "to": "ScheduleLeaveAPI"}, {"arrows": "to", "from": "AbsenceManagement", "to": "CheckLeaveBalancesAPI"}, {"arrows": "to", "from": "AbsenceManagement", "to": "URLProvider"}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"physics": {"enabled": false}, "interaction": {"zoomView": false, "dragView": true}, "manipulation": {"enabled": false}, "autoResize": true};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    
    <script type="text/javascript">
        window.addEventListener('message', function(event) {
            if (event.data && event.data.agentName) {
                const agentName = event.data.agentName;
    
                // Directly compare the lowercase agent name with the node ID
                const matchingNode = nodes.get().find(node => node.id.toLowerCase() === agentName);
    
                if (matchingNode) {
                    // Reset the color of all nodes to default
                    nodes.forEach(function(node) {
                        nodes.update({ id: node.id, color: '#97c2fc' });
                    });
    
                    // Highlight the matched node
                    nodes.update({ id: matchingNode.id, color: '#ff6347' });
                }
            }
        });
    </script>
        </body>
</html>