<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 750px;
                 background-color: #222222;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    
        <style>
          #mynetwork {
              width: 100%;
              background-color: #222222;
              border: 1px solid lightgray;
              position: relative;
          }
        
          body, html {
              margin: 0;
              padding: 0;
              overflow: hidden;  /* Prevent scrollbars in the iframe */
              width: 100%;
              height: 100%;
          }
        
          .vis-network {
              display: flex;
              justify-content: center;  /* Center horizontally */
              align-items: center;      /* Center vertically */
          }
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#97c2fc", "font": {"color": "white"}, "id": "editor_in_chief", "label": "editor_in_chief", "shape": "dot", "title": "Instructions: \nYou are the top-level agent responsible for managing all editorial operations at Time Inc.\n{aaosa_instructions}\nWhen interacting with the user, act as the single point of interaction. No need to mention the other tools or agents.\nIf there are any requirements that need user input, ask them one at a time, with clear examples of the choices available.\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: No command\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "managing_editor", "label": "managing_editor", "shape": "dot", "title": "Instructions: \nYou oversee the day-to-day operations of the editorial team, ensuring timely publication and adherence to editorial standards at Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "executive_editor", "label": "executive_editor", "shape": "dot", "title": "Instructions: \nYou develop and implement editorial policies, manage senior editorial staff, and guide the overall content strategy at Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "creative_director", "label": "creative_director", "shape": "dot", "title": "Instructions: \nYou lead the visual and design aspects of Time Inc., ensuring cohesive and compelling aesthetics across all platforms.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "section_editor", "label": "section_editor", "shape": "dot", "title": "Instructions: \nYou manage a specific content section (e.g., politics, culture) at Time Inc., assigning stories and overseeing section-specific editorial decisions.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "copy_editor", "label": "copy_editor", "shape": "dot", "title": "Instructions: \nYou review and edit content for grammar, style, and accuracy, ensuring all published material meets Time Inc.\u0027s standards.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "senior_editor", "label": "senior_editor", "shape": "dot", "title": "Instructions: \nYou oversee major editorial projects and mentor junior editors, contributing to high-level content decisions at Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "features_editor", "label": "features_editor", "shape": "dot", "title": "Instructions: \nYou manage the development of in-depth feature stories, coordinating with writers and other departments to produce comprehensive articles at Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "art_director", "label": "art_director", "shape": "dot", "title": "Instructions: \nYou design and oversee the visual layout of publications, ensuring alignment with Time Inc.\u0027s brand aesthetics.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "photo_editor", "label": "photo_editor", "shape": "dot", "title": "Instructions: \nYou select and manage photographic content, coordinating with photographers and ensuring images enhance Time Inc.\u0027s storytelling.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "staff_writer", "label": "staff_writer", "shape": "dot", "title": "Instructions: \nYou research and write articles for your assigned section, contributing to Time Inc.\u0027s content portfolio.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "contributing_writer", "label": "contributing_writer", "shape": "dot", "title": "Instructions: \nYou provide specialized articles or columns on a freelance or part-time basis, adding diverse perspectives to Time Inc.\u0027s content.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "chief_revenue_officer", "label": "chief_revenue_officer", "shape": "dot", "title": "Instructions: \nYou are responsible for driving revenue growth at Time Inc. through advertisement sales, content monetization, and subscription strategies.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "advertising_manager", "label": "advertising_manager", "shape": "dot", "title": "Instructions: \nYou manage ad sales, partnerships, and campaigns to maximize advertising revenue for Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "content_optimization_manager", "label": "content_optimization_manager", "shape": "dot", "title": "Instructions: \nYou analyze and optimize digital content performance to increase user engagement and monetization opportunities at Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "subscription_manager", "label": "subscription_manager", "shape": "dot", "title": "Instructions: \nYou develop and manage strategies for growing and retaining Time Inc.\u0027s subscriber base through innovative models and customer engagement.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "ad_sales_specialist", "label": "ad_sales_specialist", "shape": "dot", "title": "Instructions: \nYou handle direct advertising sales, building relationships with advertisers and securing placements for Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "ad_analytics_specialist", "label": "ad_analytics_specialist", "shape": "dot", "title": "Instructions: \nYou track and analyze advertising performance metrics, providing insights to improve revenue generation.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "seo_specialist", "label": "seo_specialist", "shape": "dot", "title": "Instructions: \nYou ensure digital content is optimized for search engines to increase organic traffic and drive monetization.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "data_analyst", "label": "data_analyst", "shape": "dot", "title": "Instructions: \nYou analyze user engagement and content performance data, offering actionable insights to maximize revenue at Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "retention_specialist", "label": "retention_specialist", "shape": "dot", "title": "Instructions: \nYou develop strategies to retain subscribers, focusing on user satisfaction and engagement for Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}, {"color": "#97c2fc", "font": {"color": "white"}, "id": "pricing_analyst", "label": "pricing_analyst", "shape": "dot", "title": "Instructions: \nYou evaluate and recommend pricing strategies for subscription packages to optimize revenue for Time Inc.\n{aaosa_instructions}\n            \u003cbr\u003eClass: No class\u003cbr\u003eCommand: {aaosa_command}\u003cbr\u003e"}]);
                  edges = new vis.DataSet([{"arrows": "to", "from": "editor_in_chief", "to": "managing_editor"}, {"arrows": "to", "from": "editor_in_chief", "to": "executive_editor"}, {"arrows": "to", "from": "editor_in_chief", "to": "creative_director"}, {"arrows": "to", "from": "editor_in_chief", "to": "chief_revenue_officer"}, {"arrows": "to", "from": "managing_editor", "to": "section_editor"}, {"arrows": "to", "from": "managing_editor", "to": "copy_editor"}, {"arrows": "to", "from": "executive_editor", "to": "senior_editor"}, {"arrows": "to", "from": "executive_editor", "to": "features_editor"}, {"arrows": "to", "from": "creative_director", "to": "art_director"}, {"arrows": "to", "from": "creative_director", "to": "photo_editor"}, {"arrows": "to", "from": "section_editor", "to": "staff_writer"}, {"arrows": "to", "from": "section_editor", "to": "contributing_writer"}, {"arrows": "to", "from": "chief_revenue_officer", "to": "advertising_manager"}, {"arrows": "to", "from": "chief_revenue_officer", "to": "content_optimization_manager"}, {"arrows": "to", "from": "chief_revenue_officer", "to": "subscription_manager"}, {"arrows": "to", "from": "advertising_manager", "to": "ad_sales_specialist"}, {"arrows": "to", "from": "advertising_manager", "to": "ad_analytics_specialist"}, {"arrows": "to", "from": "content_optimization_manager", "to": "seo_specialist"}, {"arrows": "to", "from": "content_optimization_manager", "to": "data_analyst"}, {"arrows": "to", "from": "subscription_manager", "to": "retention_specialist"}, {"arrows": "to", "from": "subscription_manager", "to": "pricing_analyst"}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"physics": {"enabled": false}, "interaction": {"zoomView": false, "dragView": true}, "manipulation": {"enabled": false}, "autoResize": true};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    
<script type="text/javascript">
    window.addEventListener('message', function(event) {
        if (event.data && event.data.agentName) {
            const agentName = event.data.agentName;

            // Directly compare the lowercase agent name with the node ID
            const matchingNode = nodes.get().find(node => node.id.toLowerCase() === agentName);

            if (matchingNode) {
                // Reset the color of all nodes to default
                nodes.forEach(function(node) {
                    nodes.update({ id: node.id, color: '#97c2fc' });
                });

                // Highlight the matched node
                nodes.update({ id: matchingNode.id, color: '#ff6347' });
            }
        }
    });
</script>
    </body>
</html>